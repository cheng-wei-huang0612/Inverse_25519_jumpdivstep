
# qhasm: int64 input_x0

# qhasm: int64 input_x1

# qhasm: int64 input_x2

# qhasm: int64 input_x3

# qhasm: int64 input_x4

# qhasm: int64 input_x5

# qhasm: int64 input_x6

# qhasm: int64 input_x7

# qhasm: int64 output_x0

# qhasm: int64 calleesaved_x18

# qhasm: int64 calleesaved_x19

# qhasm: int64 calleesaved_x20

# qhasm: int64 calleesaved_x21

# qhasm: int64 calleesaved_x22

# qhasm: int64 calleesaved_x23

# qhasm: int64 calleesaved_x24

# qhasm: int64 calleesaved_x25

# qhasm: int64 calleesaved_x26

# qhasm: int64 calleesaved_x27

# qhasm: int64 calleesaved_x28

# qhasm: int64 calleesaved_x29

# qhasm: reg128 input_v0

# qhasm: reg128 input_v1

# qhasm: reg128 input_v2

# qhasm: reg128 input_v3

# qhasm: reg128 input_v4

# qhasm: reg128 input_v5

# qhasm: reg128 input_v6

# qhasm: reg128 input_v7

# qhasm: reg128 output_v0

# qhasm: reg128 calleesaved_v8

# qhasm: reg128 calleesaved_v9

# qhasm: reg128 calleesaved_v10

# qhasm: reg128 calleesaved_v11

# qhasm: reg128 calleesaved_v12

# qhasm: reg128 calleesaved_v13

# qhasm: reg128 calleesaved_v14

# qhasm: reg128 calleesaved_v15

# qhasm: enter final_update
.align 4
.global _final_update
.global final_update
_final_update:
final_update:

        ldr q31, [x5, #16]                     // *..............................................................................................................................................................................................
        ldp x17, x10, [x3]                     // *..............................................................................................................................................................................................
        movi v5.2D, #0xffffffff                // *..............................................................................................................................................................................................
        ldr w16, [x3, #32]                     // .*.............................................................................................................................................................................................
        movz x6, #51739                        // .*.............................................................................................................................................................................................
        movk x6, #10347, lsl #16               // ..*............................................................................................................................................................................................
        ldr q27, [x5, #0]                      // ..*............................................................................................................................................................................................
        mov x5, #19                            // ..*............................................................................................................................................................................................
        ldp x8, x12, [x1]                      // ...*...........................................................................................................................................................................................
        mvn x1, xzr                            // ...*...........................................................................................................................................................................................
        sshr v4.2D, v5.2D, #2                  // ...*...........................................................................................................................................................................................
        ldp x15, x13, [x3, #16]                // ....*..........................................................................................................................................................................................
        ins v1.d[0], x17                       // ....*..........................................................................................................................................................................................
        ins v25.d[0], x10                      // .....*.........................................................................................................................................................................................
        ldp x7, x9, [x2]                       // .....*.........................................................................................................................................................................................
        sshr v22.2D, v31.2D, #30               // .....*.........................................................................................................................................................................................
        and v26.16B, v27.16B, v4.16B           // ......*........................................................................................................................................................................................
        lsr x3, x1, #1                         // ......*........................................................................................................................................................................................
        ldp x1, x14, [x4]                      // ......*........................................................................................................................................................................................
        sshr v16.2D, v27.2D, #30               // .......*.......................................................................................................................................................................................
        and v30.16B, v31.16B, v4.16B           // .......*.......................................................................................................................................................................................
        ldp x2, x17, [x4, #16]                 // ........*......................................................................................................................................................................................
        ins v29.d[0], x12                      // ........*......................................................................................................................................................................................
        ins v20.d[0], x8                       // ........*......................................................................................................................................................................................
        ldr w11, [x4, #32]                     // .........*.....................................................................................................................................................................................
        ins v3.d[0], x13                       // .........*.....................................................................................................................................................................................
        uzp1 v17.4S, v4.4S, v4.4S              // .........*.....................................................................................................................................................................................
        dup v28.4S, w5                         // ..........*....................................................................................................................................................................................
        ins v1.d[1], x1                        // ..........*....................................................................................................................................................................................
        trn1 v0.4S, v26.4S, v30.4S             // ..........*....................................................................................................................................................................................
        dup v18.4S, w6                         // ...........*...................................................................................................................................................................................
        ins v23.d[0], x15                      // ...........*...................................................................................................................................................................................
        mov x6, #18                            // ...........*...................................................................................................................................................................................
        trn1 v30.4S, v16.4S, v22.4S            // ............*..................................................................................................................................................................................
        sshr v21.2D, v4.2D, #15                // .............*.................................................................................................................................................................................
        ins v25.d[1], x14                      // .............*.................................................................................................................................................................................
        ins v29.d[1], x9                       // ..............*................................................................................................................................................................................
        ins v20.d[1], x7                       // ..............*................................................................................................................................................................................
        ins v31.d[0], x16                      // ...............*...............................................................................................................................................................................
        ins v3.d[1], x17                       // ...............*...............................................................................................................................................................................
        smull v22.2D, v0.2S, v1.S[0]           // ................*..............................................................................................................................................................................
        ins v23.d[1], x2                       // .................*.............................................................................................................................................................................
        smlal2 v22.2D, v0.4S, v1.S[2]          // .................*.............................................................................................................................................................................
        smull v26.2D, v0.2S, v20.S[0]          // ....................*..........................................................................................................................................................................
        ins v31.d[1], x11                      // .....................*.........................................................................................................................................................................
        mul v27.4S, v22.4S, v18.4S             // .....................*.........................................................................................................................................................................
        smlal2 v26.2D, v0.4S, v20.S[2]         // .......................*.......................................................................................................................................................................
        and v6.16B, v27.16B, v4.16B            // ..........................*....................................................................................................................................................................
        sshr v26.2D, v26.2D, #30               // ...........................*...................................................................................................................................................................
        uzp1 v24.4S, v6.4S, v6.4S              // .............................*.................................................................................................................................................................
        smlal v26.2D, v0.2S, v20.S[1]          // ..............................*................................................................................................................................................................
        smlal2 v26.2D, v0.4S, v20.S[3]         // ...............................*...............................................................................................................................................................
        smlsl v22.2D, v24.2S, v28.2S           // ................................*..............................................................................................................................................................
        smlal v26.2D, v30.2S, v20.S[0]         // ..................................*............................................................................................................................................................
        sshll v19.2D, v24.2S, #15              // ..................................*............................................................................................................................................................
        smlal2 v26.2D, v30.4S, v20.S[2]        // ...................................*...........................................................................................................................................................
        sshr v16.2D, v22.2D, #30               // ....................................*..........................................................................................................................................................
        sshr v26.2D, v26.2D, #30               // .......................................*.......................................................................................................................................................
        smlal v16.2D, v0.2S, v1.S[1]           // .......................................*.......................................................................................................................................................
        smlal2 v16.2D, v0.4S, v1.S[3]          // ........................................*......................................................................................................................................................
        smlal v16.2D, v30.2S, v1.S[0]          // .........................................*.....................................................................................................................................................
        smlal2 v16.2D, v30.4S, v1.S[2]         // ..........................................*....................................................................................................................................................
        smlal v26.2D, v0.2S, v29.S[0]          // ...........................................*...................................................................................................................................................
        smlal2 v26.2D, v0.4S, v29.S[2]         // ............................................*..................................................................................................................................................
        smlal v26.2D, v30.2S, v20.S[1]         // .............................................*.................................................................................................................................................
        mul v22.4S, v16.4S, v18.4S             // ..............................................*................................................................................................................................................
        and v2.16B, v22.16B, v4.16B            // ...................................................*...........................................................................................................................................
        smlal2 v26.2D, v30.4S, v20.S[3]        // ....................................................*..........................................................................................................................................
        uzp1 v18.4S, v2.4S, v2.4S              // ......................................................*........................................................................................................................................
        and v20.16B, v26.16B, v4.16B           // ........................................................*......................................................................................................................................
        sshr v26.2D, v26.2D, #30               // .........................................................*.....................................................................................................................................
        smlsl v16.2D, v18.2S, v28.2S           // .........................................................*.....................................................................................................................................
        sshll v22.2D, v18.2S, #15              // ...........................................................*...................................................................................................................................
        mov v6.16B, v20.16B                    // ............................................................*..................................................................................................................................
        smlal v26.2D, v0.2S, v29.S[1]          // ............................................................*..................................................................................................................................
        smlal2 v26.2D, v0.4S, v29.S[3]         // .............................................................*.................................................................................................................................
        sshr v16.2D, v16.2D, #30               // .............................................................*.................................................................................................................................
        smlal v26.2D, v30.2S, v29.S[0]         // ..............................................................*................................................................................................................................
        smlal2 v26.2D, v30.4S, v29.S[2]        // ...............................................................*...............................................................................................................................
        smlal v16.2D, v0.2S, v25.S[0]          // ................................................................*..............................................................................................................................
        smlal2 v16.2D, v0.4S, v25.S[2]         // .................................................................*.............................................................................................................................
        smlal v16.2D, v30.2S, v1.S[1]          // ..................................................................*............................................................................................................................
        smlal2 v16.2D, v30.4S, v1.S[3]         // ...................................................................*...........................................................................................................................
        and v29.16B, v26.16B, v4.16B           // ......................................................................*........................................................................................................................
        sshr v1.2D, v16.2D, #30                // .......................................................................*.......................................................................................................................
        shl v7.2D, v29.2D, #32                 // .........................................................................*.....................................................................................................................
        and v29.16B, v16.16B, v4.16B           // .........................................................................*.....................................................................................................................
        smlal v1.2D, v0.2S, v25.S[1]           // ..........................................................................*....................................................................................................................
        smlal2 v1.2D, v0.4S, v25.S[3]          // ...........................................................................*...................................................................................................................
        orr v6.16B, v6.16B, v7.16B             // ............................................................................*..................................................................................................................
        smlal v1.2D, v30.2S, v25.S[0]          // ............................................................................*..................................................................................................................
        smlal2 v1.2D, v30.4S, v25.S[2]         // .............................................................................*.................................................................................................................
        umov x1, v6.d[0]                       // ...............................................................................*...............................................................................................................
        sshr v16.2D, v1.2D, #30                // .................................................................................*.............................................................................................................
        lsl x10, x1, #2                        // ...................................................................................*...........................................................................................................
        and v20.16B, v1.16B, v4.16B            // ...................................................................................*...........................................................................................................
        smlal v16.2D, v0.2S, v23.S[0]          // ....................................................................................*..........................................................................................................
        asr x13, x10, #3                       // .....................................................................................*.........................................................................................................
        smlal2 v16.2D, v0.4S, v23.S[2]         // .....................................................................................*.........................................................................................................
        shl v18.2D, v20.2D, #32                // ......................................................................................*........................................................................................................
        smlal v16.2D, v30.2S, v25.S[1]         // ......................................................................................*........................................................................................................
        and x8, x6, x13                        // .......................................................................................*.......................................................................................................
        cmp x13, #0                            // .......................................................................................*.......................................................................................................
        smlal2 v16.2D, v30.4S, v25.S[3]        // .......................................................................................*.......................................................................................................
        orr v18.16B, v29.16B, v18.16B          // .........................................................................................*.....................................................................................................
        sshr v2.2D, v16.2D, #30                // ...........................................................................................*...................................................................................................
        and v29.16B, v16.16B, v4.16B           // .............................................................................................*.................................................................................................
        smlal v2.2D, v0.2S, v23.S[1]           // ..............................................................................................*................................................................................................
        smlal2 v2.2D, v0.4S, v23.S[3]          // ...............................................................................................*...............................................................................................
        smlal v2.2D, v30.2S, v23.S[0]          // ................................................................................................*..............................................................................................
        smlal2 v2.2D, v30.4S, v23.S[2]         // .................................................................................................*.............................................................................................
        sshr v26.2D, v2.2D, #30                // .....................................................................................................*.........................................................................................
        and v16.16B, v2.16B, v4.16B            // .......................................................................................................*.......................................................................................
        smlal v26.2D, v0.2S, v3.S[0]           // ........................................................................................................*......................................................................................
        smlal2 v26.2D, v0.4S, v3.S[2]          // .........................................................................................................*.....................................................................................
        shl v20.2D, v16.2D, #32                // ..........................................................................................................*....................................................................................
        smlal v26.2D, v30.2S, v23.S[1]         // ..........................................................................................................*....................................................................................
        smlal2 v26.2D, v30.4S, v23.S[3]        // ...........................................................................................................*...................................................................................
        orr v1.16B, v29.16B, v20.16B           // .............................................................................................................*.................................................................................
        sshr v16.2D, v26.2D, #30               // ...............................................................................................................*...............................................................................
        and v23.16B, v26.16B, v4.16B           // .................................................................................................................*.............................................................................
        smlal v16.2D, v0.2S, v3.S[1]           // ..................................................................................................................*............................................................................
        smlal2 v16.2D, v0.4S, v3.S[3]          // ...................................................................................................................*...........................................................................
        smlal v16.2D, v30.2S, v3.S[0]          // ....................................................................................................................*..........................................................................
        smlal2 v16.2D, v30.4S, v3.S[2]         // .....................................................................................................................*.........................................................................
        and v25.16B, v16.16B, v4.16B           // .........................................................................................................................*.....................................................................
        sshr v16.2D, v16.2D, #30               // .........................................................................................................................*.....................................................................
        smlal v16.2D, v0.2S, v31.S[0]          // ............................................................................................................................*..................................................................
        smlal2 v16.2D, v0.4S, v31.S[2]         // .............................................................................................................................*.................................................................
        shl v2.2D, v25.2D, #32                 // ..............................................................................................................................*................................................................
        smlal v16.2D, v30.2S, v3.S[1]          // ..............................................................................................................................*................................................................
        smlal2 v16.2D, v30.4S, v3.S[3]         // ...............................................................................................................................*...............................................................
        orr v23.16B, v23.16B, v2.16B           // .................................................................................................................................*.............................................................
        add v16.2D, v16.2D, v19.2D             // ...................................................................................................................................*...........................................................
        umov x13, v23.d[0]                     // ....................................................................................................................................*..........................................................
        sshr v29.2D, v16.2D, #30               // ......................................................................................................................................*........................................................
        and v23.16B, v16.16B, v4.16B           // ........................................................................................................................................*......................................................
        lsr x15, x13, #32                      // ........................................................................................................................................*......................................................
        and x16, x13, #0x3fffffff              // .........................................................................................................................................*.....................................................
        lsl x12, x15, #22                      // .........................................................................................................................................*.....................................................
        smlal v29.2D, v30.2S, v31.S[0]         // .........................................................................................................................................*.....................................................
        lsr x11, x16, #8                       // ..........................................................................................................................................*....................................................
        lsl x15, x16, #56                      // ..........................................................................................................................................*....................................................
        smlal2 v29.2D, v30.4S, v31.S[2]        // ..........................................................................................................................................*....................................................
        orr x6, x11, x12                       // ...........................................................................................................................................*...................................................
        add v0.2D, v29.2D, v22.2D              // ..............................................................................................................................................*................................................
        sshr v25.2D, v0.2D, #30                // .................................................................................................................................................*.............................................
        and v27.16B, v0.16B, v4.16B            // ...................................................................................................................................................*...........................................
        sshr v6.2D, v25.2D, #15                // ....................................................................................................................................................*..........................................
        and v20.16B, v25.16B, v21.16B          // .....................................................................................................................................................*.........................................
        shl v26.2D, v27.2D, #32                // ......................................................................................................................................................*........................................
        mul v29.4S, v28.4S, v6.4S              // .......................................................................................................................................................*.......................................
        smov x4, v20.s[0]                      // ........................................................................................................................................................*......................................
        orr v7.16B, v23.16B, v26.16B           // .........................................................................................................................................................*.....................................
        umov x16, v7.d[0]                      // ............................................................................................................................................................*..................................
        and v25.16B, v29.16B, v5.16B           // ............................................................................................................................................................*..................................
        lsl x5, x4, #48                        // ..............................................................................................................................................................*................................
        add v3.4S, v18.4S, v25.4S              // ...............................................................................................................................................................*...............................
        and x11, x16, #0x3fffffff              // ................................................................................................................................................................*..............................
        lsr x13, x11, #12                      // .................................................................................................................................................................*.............................
        lsr x17, x16, #32                      // .................................................................................................................................................................*.............................
        lsl x9, x11, #52                       // ..................................................................................................................................................................*............................
        lsl x16, x17, #18                      // ..................................................................................................................................................................*............................
        sshr v29.4S, v3.4S, #30                // ..................................................................................................................................................................*............................
        orr x17, x6, x9                        // ....................................................................................................................................................................*..........................
        orr x1, x13, x16                       // ....................................................................................................................................................................*..........................
        orr x14, x1, x5                        // .....................................................................................................................................................................*.........................
        csinv x13, x17, x17, pl                // .....................................................................................................................................................................*.........................
        shl v16.2D, v29.2D, #32                // .....................................................................................................................................................................*.........................
        sub x5, x3, x14                        // ......................................................................................................................................................................*........................
        csel x17, x14, x5, pl                  // .......................................................................................................................................................................*.......................
        stp x13, x17, [x0, #16]                // ........................................................................................................................................................................*......................
        add v20.4S, v3.4S, v16.4S              // ........................................................................................................................................................................*......................
        sshr v23.4S, v20.4S, #30               // ...........................................................................................................................................................................*...................
        and v26.16B, v20.16B, v17.16B          // ............................................................................................................................................................................*..................
        ushr v22.2D, v23.2D, #32               // ..............................................................................................................................................................................*................
        umov x3, v26.d[0]                      // ...............................................................................................................................................................................*...............
        add v4.4S, v1.4S, v22.4S               // .................................................................................................................................................................................*.............
        lsr x9, x3, #32                        // ...................................................................................................................................................................................*...........
        and x14, x3, #0x3fffffff               // ...................................................................................................................................................................................*...........
        umov x3, v4.d[0]                       // ....................................................................................................................................................................................*..........
        lsl x12, x9, #30                       // ....................................................................................................................................................................................*..........
        orr x2, x14, x12                       // ......................................................................................................................................................................................*........
        and x13, x3, #0x3fffffff               // ........................................................................................................................................................................................*......
        lsr x12, x3, #32                       // ........................................................................................................................................................................................*......
        lsl x11, x13, #60                      // .........................................................................................................................................................................................*.....
        lsl x3, x12, #26                       // .........................................................................................................................................................................................*.....
        lsr x9, x13, #4                        // ..........................................................................................................................................................................................*....
        orr x11, x2, x11                       // ...........................................................................................................................................................................................*...
        orr x3, x9, x3                         // ...........................................................................................................................................................................................*...
        orr x9, x3, x15                        // ............................................................................................................................................................................................*..
        csinv x6, x11, x11, pl                 // ............................................................................................................................................................................................*..
        csinv x14, x9, x9, pl                  // .............................................................................................................................................................................................*.
        sub x2, x6, x8                         // .............................................................................................................................................................................................*.
        stp x2, x14, [x0]                      // ..............................................................................................................................................................................................*

# qhasm: return
ret
